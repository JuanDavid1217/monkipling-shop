{"version":3,"file":"js/142.abf56531.js","mappings":"6NAwBiBA,MAAM,W,GACNA,MAAM,kB,GACHA,MAAM,S,GAELA,MAAO,iB,+BAcOA,MAAM,S,SAGjBA,MAAM,gB,GAELA,MAAM,W,aAKNA,MAAM,gB,GACDA,MAAM,gB,GACNA,MAAM,iB,0HArDhCC,EAAAA,EAAAA,IAsEO,QAtEDD,OAAKE,EAAAA,EAAAA,IAAA,CAAC,qBAAoB,gBAA0BC,EAAAC,gB,EAGtDC,EAAAA,EAAAA,IAES,UAFDL,MAAM,qBAAsBM,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,eAAAD,EAAAC,iBAAAF,M,QACpCL,EAAAC,YAAc,iBAAmB,iBAAtB,I,SAIlBO,EAAAA,EAAAA,IAYEC,EAAA,CAVGC,SAAUV,EAAAU,SACVC,cAAeC,EAAAC,OAAOC,MACtBC,aAAcT,EAAAS,aACdC,OAAUhB,EAAAgB,OACVC,eAAeX,EAAAY,aACfC,eAAeb,EAAAc,aACfC,gBAAgBf,EAAAgB,0BAChBC,eAAejB,EAAAkB,YACfC,eAAiBnB,EAAAoB,mBAClB7B,MAAM,sB,0JAVEG,EAAAC,gBAcZC,EAAAA,EAAAA,IA8CU,UA9CVyB,EA8CU,EA7CNzB,EAAAA,EAAAA,IAcM,MAdN0B,EAcM,EAbF1B,EAAAA,EAAAA,IAAuE,KAAvE2B,EAAkB,gBAAYC,EAAAA,EAAAA,IAAG9B,EAAAU,UAAUqB,gBAAkB,GAAI,IAAC,IAElE7B,EAAAA,EAAAA,IAUM,MAVN8B,EAUM,C,aATF9B,EAAAA,EAAAA,IAA2B,aAApB,gBAAY,KACnBA,EAAAA,EAAAA,IAMS,UALJ+B,MAAO3B,EAAAS,aACPmB,SAAM9B,EAAA,KAAAA,EAAA,GAAA+B,GAAE7B,EAAAkB,YAAYW,EAAOC,OAAOH,S,kBAEnC/B,EAAAA,EAAAA,IAAwD,UAAhD+B,MAAM,aAAY,yBAAqB,IAC/C/B,EAAAA,EAAAA,IAAwD,UAAhD+B,MAAM,aAAY,yBAAqB,M,UAMhDjC,EAAAqC,U,WAAXvC,EAAAA,EAAAA,IAA+C,MAAAwC,EAA3B,0BACJtC,EAAAuC,Q,WAAhBzC,EAAAA,EAAAA,IAAsD,MAAtD0C,GAAsDV,EAAAA,EAAAA,IAAd9B,EAAAuC,OAAK,M,WAG7CzC,EAAAA,EAAAA,IAaM,MAbN2C,EAaM,G,aAZF3C,EAAAA,EAAAA,IAWM4C,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAXiB3C,EAAA4C,SAAXC,K,WAAZ/C,EAAAA,EAAAA,IAWM,OAX4BgD,IAAKD,EAAQE,GAAIlD,MAAM,gB,EACrDK,EAAAA,EAAAA,IAGM,MAHN8C,EAGM,EADF9C,EAAAA,EAAAA,IAA+C,OAAzC+C,IAAKJ,EAAQK,IAAI,GAAIC,IAAI,iB,aAGnCjD,EAAAA,EAAAA,IAIM,MAJNkD,EAIM,EAHFlD,EAAAA,EAAAA,IAAoD,OAApDmD,GAAoDvB,EAAAA,EAAAA,IAAtBe,EAAQS,MAAI,IAC1CpD,EAAAA,EAAAA,IAAuD,OAAvDqD,EAA4B,KAACzB,EAAAA,EAAAA,IAAGe,EAAQW,OAAK,IAC7CtD,EAAAA,EAAAA,IAAyF,UAAjFL,MAAM,MAAOM,QAAKgC,GAAEvB,EAAA6C,QAAQC,KAAK,YAAYb,EAAQE,OAAO,eAAY,EAAAY,S,UAOjF3D,EAAAqC,UAAYrC,EAAAuC,OAASvC,EAAAU,UAAUkD,YAAc,I,WADxDC,EAAAA,EAAAA,IAOEC,EAAA,C,MALGC,YAAa/D,EAAAU,UAAUsD,aACvBC,WAAYjE,EAAAU,UAAUkD,YACtBM,aAAclE,EAAAU,UAAUyD,cACxBC,SAAUpE,EAAAU,UAAU2D,UACpBC,cAAchE,EAAAiE,Y,6HClEpB1E,MAAM,W,GACJA,MAAM,kB,iBAgBGA,MAAM,e,SAI8BA,MAAM,c,aAGvCA,MAAM,oB,sCAgBDA,MAAM,c,8EAxChCC,EAAAA,EAAAA,IAgDQ,QAhDR6B,EAgDQ,EA/CJzB,EAAAA,EAAAA,IAIM,MAJN0B,EAIM,C,aAHD1B,EAAAA,EAAAA,IAAgB,UAAZ,WAAO,IACGI,EAAAkE,mB,WAAd1E,EAAAA,EAAAA,IAC6D,U,MAA5DK,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAmE,cAAAnE,EAAAmE,gBAAApE,IAAcR,MAAM,aAAY,kB,kBAG7CW,EAAAA,EAAAA,IAIEkE,EAAA,CAHG1D,OAAQ2D,EAAA3D,OACRC,eAAab,EAAA,KAAAA,EAAA,GAAA+B,GAAEvB,EAAAgE,MAAM,gBAAiBzC,IACtChB,eAAaf,EAAA,KAAAA,EAAA,GAAA+B,GAAEvB,EAAAgE,MAAM,gBAAiBzC,K,kCAI3CrC,EAAAA,EAAAA,IA8BM4C,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA9BiBrC,EAAAuE,SAAXC,K,WAAZhF,EAAAA,EAAAA,IA8BM,OA9B4BgD,IAAKgC,EAAQ/B,GAAIlD,MAAM,kB,EACrDK,EAAAA,EAAAA,IAGK,MAHAC,QAAKgC,GAAE7B,EAAAyE,cAAcD,EAAQ/B,IAAMlD,OAAKE,EAAAA,EAAAA,IAAA,CAAAiF,OAAYhF,EAAAiF,aAAaC,SAASJ,EAAQ/B,O,mBAChF+B,EAAQK,cAAe,IAC1B,IAAAjF,EAAAA,EAAAA,IAAoF,OAApF8B,GAAoFF,EAAAA,EAAAA,IAAvD9B,EAAAiF,aAAaC,SAASJ,EAAQ/B,IAAM,IAAM,KAAV,I,MAItD/C,EAAAiF,aAAaC,SAASJ,EAAQ/B,M,WAAzCjD,EAAAA,EAAAA,IAsBM,MAtBNsF,EAsBM,CApBwB,UAAfN,EAAQ/B,K,WAAnBjD,EAAAA,EAAAA,IAKM,MAAAwC,EAAA,EAJFpC,EAAAA,EAAAA,IAGM,MAHNsC,EAGM,EAFFtC,EAAAA,EAAAA,IAAkD,YAA5C,UAAM4B,EAAAA,EAAAA,IAAGgD,EAAQO,QAAQ,IAAIC,OAAK,IACxCpF,EAAAA,EAAAA,IAAkD,YAA5C,UAAM4B,EAAAA,EAAAA,IAAGgD,EAAQO,QAAQ,IAAIC,OAAK,U,WAKhDxF,EAAAA,EAAAA,IAWM,MAAA2C,EAAA,G,aAVF3C,EAAAA,EAAAA,IASQ4C,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IATcmC,EAAQO,MAAhBE,K,WAAdzF,EAAAA,EAAAA,IASQ,SAT8BgD,IAAKyC,EAAKC,UAAW3F,MAAM,kB,EAC7DK,EAAAA,EAAAA,IAIE,SAHEuF,KAAK,WACJC,QAASpF,EAAAqF,gBAAgBb,EAAQ/B,GAAIwC,EAAKC,WAC1CtD,SAAMC,GAAE7B,EAAAsF,mBAAmBd,EAAQ/B,GAAIwC,EAAKC,UAAWrD,EAAOC,OAAOsD,U,oBACxE,KAEF5D,EAAAA,EAAAA,IAA6B,mBAAnByD,EAAKC,UAA2BD,EAAKC,UAAY,KAAO,KAAQD,EAAKC,WAAY,IAC3F,IAAAtF,EAAAA,EAAAA,IAAkD,OAAlD2F,EAAyB,KAAC/D,EAAAA,EAAAA,IAAGyD,EAAKD,OAAQ,IAAC,O,iECxC1DzF,MAAM,oB,sDAAXC,EAAAA,EAAAA,IAYM,MAZN6B,EAYM,EAXFzB,EAAAA,EAAAA,IAOE,SANEuF,KAAK,OACLK,YAAY,YACZjG,MAAM,eACLoC,MAAO0C,EAAA3D,OACP+E,QAAK3F,EAAA,KAAAA,EAAA,GAAA+B,GAAEvB,EAAAgE,MAAM,gBAAiBzC,EAAOC,OAAOH,OAAO+D,SACnDC,QAAK7F,EAAA,KAAAA,EAAA,IAAA8F,EAAAA,EAAAA,IAAA/D,GAAQvB,EAAAgE,MAAM,iBAAD,a,YAEvB1E,EAAAA,EAAAA,IAEM,OAFDL,MAAM,gBAAiBM,QAAKC,EAAA,KAAAA,EAAA,GAAA+B,GAAEvB,EAAAgE,MAAM,mB,kBACrC1E,EAAAA,EAAAA,IAAuC,KAApCL,MAAM,2BAAyB,c,CAmD1C,OACIyD,KAAM,kBACN6C,MAAO,CACHnF,OAAQ,CACJyE,KAAMW,OACNC,QAAS,M,UC5DzB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QF8CA,GACIhD,KAAM,iBACN6C,MAAO,CACHzF,SAAU,CAAE+E,KAAMc,OAAQF,QAASA,KAAA,CAASxB,SAAU,MACtDlE,cAAe,CAAE8E,KAAMc,OAAQF,QAASA,KAAA,CAAS,IACjDtF,aAAc,CAAE0E,KAAMW,OAAQC,QAAS,aACvCrF,OAAQ,CAAEyE,KAAMW,OAAQC,QAAS,KAErCG,IAAAA,GACI,MAAO,CACHvB,aAAc,CAAC,WAAY,SAAU,QAAS,QAAS,eAAgB,YAE/E,EACAwB,WAAY,CACRC,gBAAeA,GAEnBC,SAAU,CACN9B,QAAAA,GAAa,OAAO+B,KAAKlG,UAAUmE,SAASgC,OAAOC,GAAKA,EAAEzB,MAAM0B,OAAS,IAAM,EAAI,EACnFvC,gBAAAA,GACI,MAAMwC,EAAU,IAAIJ,KAAKjG,eAEzB,cADOqG,EAAQC,aAAcD,EAAQE,KAC9BX,OAAOY,KAAKH,GAASD,OAAS,CACzC,GAEJK,QAAS,CACLrC,aAAAA,CAAchC,GACV,MAAMsE,EAAQT,KAAK3B,aAAaqC,QAAQvE,GACpCsE,GAAS,EAAKT,KAAK3B,aAAasC,OAAOF,EAAO,GAAaT,KAAK3B,aAAavB,KAAKX,EAC1F,EACA4C,eAAAA,CAAgB7C,EAAKb,GACjB,MAAMuF,EAAoBZ,KAAKjG,cAAcmC,GACvC2E,EAAoC,MAArBD,EAA4BpB,OAAOoB,GAAmBE,cAAgB,KACrFC,EAAuB,MAAT1F,EAAgBmE,OAAOnE,GAAOyF,cAAgB,KAClE,OAAOD,IAAiBE,CAC5B,EACA/B,kBAAAA,CAAmB9C,EAAKb,EAAO2F,GAAahB,KAAKhC,MAAM,iBAAkB,CAAE9B,MAAKb,MAAO2F,EAAY3F,OAAQ4F,GAAc,EACzHC,iBAAAA,CAAkB7F,GAAS2E,KAAKhC,MAAM,gBAAiB3C,EAAQ,EAC/DwC,YAAAA,GAAgBmC,KAAKhC,MAAM,gBAAkB,IGrFrD,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,eCRS/E,MAAM,iB,kBAYDA,MAAM,a,8CAZiB8E,EAAAV,WAAa,I,WAA9CnE,EAAAA,EAAAA,IAyBM,MAzBN6B,EAyBM,EAtBFzB,EAAAA,EAAAA,IAMS,UALJC,QAAKC,EAAA,KAAAA,EAAA,GAAA+B,GAAE7B,EAAAyH,WAAWpD,EAAAT,eAClB8D,UAAWrD,EAAAT,aACZrE,MAAM,cACT,aAED,EAAA+B,IAGA1B,EAAAA,EAAAA,IAEO,OAFP2B,EAAwB,YACbC,EAAAA,EAAAA,IAAG6C,EAAAZ,aAAc,QAAIjC,EAAAA,EAAAA,IAAG6C,EAAAV,YAAU,IAI7C/D,EAAAA,EAAAA,IAMS,UALJC,QAAKC,EAAA,KAAAA,EAAA,GAAA+B,GAAE7B,EAAAyH,WAAWpD,EAAAP,WAClB4D,UAAWrD,EAAAP,SACZvE,MAAM,cACT,cAED,EAAAmC,O,eAMR,OACIsB,KAAM,mBACN6C,MAAO,CACHpC,YAAa,CACT0B,KAAMwC,OACNC,UAAU,GAEdjE,WAAY,CACRwB,KAAMwC,OACNC,UAAU,GAEdhE,aAAc,CACVuB,KAAMwC,OACN5B,QAAS,MAEbjC,SAAU,CACNqB,KAAMwC,OACN5B,QAAS,OAGjBe,QAAS,CACLW,UAAAA,CAAWb,GACHA,GAEAN,KAAKhC,MAAM,eAAgBsC,EAEnC,ICjDR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QNsEA,GACI5D,KAAM,eACNmD,WAAY,CACR0B,eAAc,EACdC,iBAAgBA,GAEpB5B,IAAAA,GACI,MAAO,CACH5D,SAAU,GACVlC,SAAU,KACV2B,SAAS,EACTE,MAAO,KACPvB,OAAQ,GACRf,aAAa,EAErB,EACA0G,SAAU,CACN5F,YAAAA,GACI,OAAO6F,KAAK/F,OAAOC,MAAMmG,OAAS,WACtC,GAEJG,QAAS,CACLiB,SAAAA,GACIzB,KAAKvE,SAAU,EACfuE,KAAKrE,MAAQ,KACbqE,KAAK5F,OAAS4F,KAAK/F,OAAOyH,OAAOtH,OAEjC,MAAMuH,EAAO,CACTvH,OAAQ4F,KAAK5F,OACbgG,QAASJ,KAAK/F,OAAOC,OAIzB,IACI,MAAM0H,GAAWC,EAAAA,EAAAA,GAAOF,GACxB3B,KAAKhE,SAAW4F,EAAShC,KACzBI,KAAKlG,SAAW8H,EAAS9H,QAC7B,CAAE,MAAO6B,GACLmG,QAAQnG,MAAM,2BAA4BA,GAC1CqE,KAAKrE,MAAQ,sCACjB,CAAE,QACEqE,KAAKvE,SAAU,CACnB,CACJ,EAEAnB,YAAAA,CAAayH,GAAa/B,KAAK5F,OAAS2H,CAAW,EACnDvH,YAAAA,GACQwF,KAAK5F,QACL4F,KAAKnD,QAAQC,KAAK,CACdJ,KAAMsD,KAAK/F,OAAOyC,KAClBgF,OAAQ,CAAEtH,OAAQ4F,KAAK5F,SAGnC,EACAQ,WAAAA,CAAYoH,GAAYhC,KAAKiC,iBAAiB,CAAE5B,MAAO2B,EAAU1B,UAAMW,GAAc,EACrFtD,UAAAA,CAAWuE,GAAeA,GAAWlC,KAAKiC,iBAAiB,CAAE3B,KAAM4B,GAAc,EACjFxH,yBAAAA,EAA0B,IAAEwB,EAAG,MAAEb,IAAW2E,KAAKiC,iBAAiB,CAAE,CAAC/F,GAAMb,EAAOiF,UAAMW,GAAc,EACtGgB,gBAAAA,CAAiBE,GACbnC,KAAKnD,QAAQC,KAAK,CACdJ,KAAMsD,KAAK/F,OAAOyC,KAClBgF,OAAQ1B,KAAK/F,OAAOyH,OACpBxH,MAAO,IAAK8F,KAAK/F,OAAOC,SAAUiI,KACnCC,MAAMC,IAAS,GAAiB,yBAAbA,EAAI3F,KAAiC,MAAM2F,GACrE,EACAvH,kBAAAA,GACIkF,KAAKnD,QAAQC,KAAK,CACdJ,KAAMsD,KAAK/F,OAAOyC,KACjBgF,OAAQ1B,KAAK/F,OAAOyH,OACrBxH,MAAO,CAAC,GAEhB,EACAP,aAAAA,GACIqG,KAAK3G,aAAe2G,KAAK3G,WAC7B,GAEJiJ,OAAAA,GACItC,KAAKyB,YACLzB,KAAK3G,YAAckJ,OAAOC,WAAW,sBAAsBC,QAC3DF,OAAOC,WAAW,sBAAsBE,iBAAiB,SAAWC,IAC/D3C,KAAK3G,YAAcsJ,EAAMF,SAElC,EACAG,MAAO,CACH,eAAgB,CACZC,OAAAA,GAAY7C,KAAKyB,WAAa,EAC9BqB,MAAM,KO7JlB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://Monkipling-Shop/./src/views/ProductsView.vue","webpack://Monkipling-Shop/./src/components/SidebarFilters.vue","webpack://Monkipling-Shop/./src/components/SearchComponent.vue","webpack://Monkipling-Shop/./src/components/SearchComponent.vue?c49b","webpack://Monkipling-Shop/./src/components/SidebarFilters.vue?0116","webpack://Monkipling-Shop/./src/components/ProductPaginator.vue","webpack://Monkipling-Shop/./src/components/ProductPaginator.vue?dfb3","webpack://Monkipling-Shop/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\r\n    <main class=\"products-container\" :class=\"{'filters-open': showSidebar}\" >\r\n\r\n        <!-- Botón para abrir/cerrar filtros en móvil (oculto en desktop) -->\r\n        <button class=\"toggle-filters-btn\" @click=\"toggleSidebar\">\r\n            {{ showSidebar ? 'Cerrar Filtros' : 'Abrir Filtros' }}\r\n        </button>\r\n\r\n        <!-- Sidebar de Filtros -->\r\n        <SidebarFilters \r\n            v-show=\"showSidebar\"\r\n            :metadata=\"metadata\"\r\n            :activeFilters=\"$route.query\"\r\n            :currentOrder=\"currentOrder\"\r\n            :search = \"search\"\r\n            @update-search=\"updateSearch\"\r\n            @submit-search=\"submitSearch\"\r\n            @filter-changed=\"handleSidebarFilterChange\"\r\n            @order-changed=\"updateOrder\"\r\n            @clear-filters = \"handleClearFilters\"\r\n            class=\"responsive-sidebar\"\r\n        />\r\n\r\n        <!-- Contenido Principal -->\r\n        <section class=\"content\">\r\n            <div class=\"header-content\">\r\n                <h1 class=\"title\">Resultados ({{ metadata?.total_products || 0 }})</h1>\r\n\r\n                <div class =\"order-wrapper\">\r\n                    <label>Ordenar Por:</label>\r\n                    <select\r\n                        :value=\"currentOrder\"\r\n                        @change=\"updateOrder($event.target.value)\"\r\n                    >\r\n                        <option value=\"min_price\">Precio: Menor a Mayor</option>\r\n                        <option value=\"max_price\">Precio: Mayor a Menor</option>\r\n                    </select>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div v-if=\"loading\">Cargando productos...</div>\r\n            <div v-else-if=\"error\" class=\"error\">{{ error }}</div>\r\n            \r\n            <!-- Lista de Productos -->\r\n            <div v-else class=\"product-list\">\r\n                <div v-for=\"product in products\" :key=\"product.id\" class=\"product-card\">\r\n                    <div class=\"img-box\">\r\n                        <!-- Placeholder para imagen -->\r\n                        <img :src=\"product.url[0]\" alt=\"Product Image\">\r\n                    </div>\r\n                    <!-- Contenedor de información para alinear elementos -->\r\n                    <div class=\"product-info\">\r\n                        <span class=\"product-name\">{{ product.name }}</span>\r\n                        <span class=\"product-price\">${{ product.price }}</span>\r\n                        <button class=\"btn\" @click=\"$router.push(`/product/${product.id}`)\">Ver Detalles</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Paginador -->\r\n            <ProductPaginator \r\n                v-if=\"!loading && !error && metadata?.total_pages > 1\"\r\n                :currentPage=\"metadata?.current_page\"\r\n                :totalPages=\"metadata?.total_pages\"\r\n                :previousPage=\"metadata?.previous_page\"\r\n                :nextPage=\"metadata?.next_page\"\r\n                @page-changed=\"updatePage\"\r\n            />\r\n            \r\n        </section>\r\n    </main>\r\n</template>\r\n\r\n<script>\r\nimport { getAll } from '@/services/ProductService';\r\nimport SidebarFilters from '@/components/SidebarFilters.vue';\r\nimport ProductPaginator from '@/components/ProductPaginator.vue';\r\n\r\nexport default {\r\n    name: \"ProductsView\",\r\n    components: {\r\n        SidebarFilters,\r\n        ProductPaginator\r\n    },\r\n    data() {\r\n        return {\r\n            products: [],\r\n            metadata: null,\r\n            loading: true,\r\n            error: null,\r\n            search: \"\",\r\n            showSidebar: true, \r\n        };\r\n    },\r\n    computed: {\r\n        currentOrder() {\r\n            return this.$route.query.order || 'min_price'; \r\n        }\r\n    },\r\n    methods: {\r\n        fetchData() {\r\n            this.loading = true;\r\n            this.error = null;\r\n            this.search = this.$route.params.search;\r\n\r\n            const body = {\r\n                search: this.search,\r\n                filters: this.$route.query \r\n            };\r\n\r\n            // Nota: Asegúrate de que 'getAll(body)' maneje promesas (async/await)\r\n            try {\r\n                const response = getAll(body);\r\n                this.products = response.data;\r\n                this.metadata = response.metadata;\r\n            } catch (error) {\r\n                console.error(\"Error fetching products:\", error);\r\n                this.error = \"No se pudieron cargar los productos.\";\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        },\r\n\r\n        updateSearch(newSearch) { this.search = newSearch; },\r\n        submitSearch() {\r\n            if (this.search) {\r\n                this.$router.push({\r\n                    name: this.$route.name,\r\n                    params: { search: this.search }\r\n                });\r\n            }\r\n        },\r\n        updateOrder(newOrder) { this.updateRouteQuery({ order: newOrder, page: undefined }); },\r\n        updatePage(newPage) { if (newPage) { this.updateRouteQuery({ page: newPage }); } },\r\n        handleSidebarFilterChange({ key, value }) { this.updateRouteQuery({ [key]: value, page: undefined }); },\r\n        updateRouteQuery(newQueryParams) {\r\n            this.$router.push({\r\n                name: this.$route.name,\r\n                params: this.$route.params,\r\n                query: { ...this.$route.query, ...newQueryParams }\r\n            }).catch(err => { if (err.name !== 'NavigationDuplicated') throw err; });\r\n        },\r\n        handleClearFilters(){\r\n            this.$router.push({\r\n                name: this.$route.name,\r\n                 params: this.$route.params,\r\n                query: {} \r\n            });\r\n        },\r\n        toggleSidebar() {\r\n            this.showSidebar = !this.showSidebar;\r\n        },\r\n    },\r\n    mounted() {\r\n        this.fetchData();\r\n        this.showSidebar = window.matchMedia(\"(min-width: 576px)\").matches;\r\n        window.matchMedia(\"(min-width: 576px)\").addEventListener('change', (event) => {\r\n             this.showSidebar = event.matches;\r\n        });\r\n    },\r\n    watch: {\r\n        '$route.query': {\r\n            handler() { this.fetchData(); },\r\n            deep: true,\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Paleta de Colores: \r\n   --color1: #A40138; (Acento fuerte/Botones principales)\r\n   --color2: #CD8F9F; (Líneas divisorias/Detalles sutiles)\r\n   --color3: #E8B3C0; (Hover background/Fondos muy sutiles)\r\n   --color4: #F8EAED; (Fondo tarj/Secundario)\r\n   --color5: #FBF5F6; (Fondo principal de la página)\r\n   --text-color: #333333; (Texto principal oscuro)\r\n*/\r\n\r\n/* --- Estilos Base y Tipografía --- */\r\n.products-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 30px; /* Más espacio para respirar */\r\n    padding: 20px;\r\n    background-color: var(--color5);\r\n    min-height: 100vh;\r\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; /* Tipografía limpia */\r\n    color: var(--text-color);\r\n}\r\n\r\n.title {\r\n    font-size: 2rem; /* Tamaño de fuente responsivo */\r\n    font-weight: 700;\r\n    color: var(--color1);\r\n    margin-bottom: 20px;\r\n}\r\n\r\n/* --- Lista de Productos y Tarjetas --- */\r\n.product-list {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Tarjetas un poco más grandes */\r\n    gap: 25px;\r\n}\r\n\r\n.product-card {\r\n    border: none;\r\n    padding: 0;\r\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\r\n    background-color: #ffffff; /* Tarjetas blancas puras para mayor contraste */\r\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n}\r\n\r\n.product-card:hover {\r\n    transform: translateY(-5px);\r\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n.img-box {\r\n    height: 180px; /* Altura uniforme para todas las imágenes */\r\n    overflow: hidden;\r\n}\r\n\r\n.img-box img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    display: block;\r\n    transition: transform 0.4s ease;\r\n}\r\n\r\n.product-card:hover .img-box img {\r\n    transform: scale(1.05); /* Zoom sutil en la imagen al pasar el mouse */\r\n}\r\n\r\n.product-info {\r\n    padding: 15px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-grow: 1; /* Permite que este contenedor se expanda */\r\n}\r\n\r\n.product-name {\r\n    font-weight: 600;\r\n    margin-bottom: 5px;\r\n    color: var(--text-color);\r\n}\r\n\r\n.product-price {\r\n    font-weight: 700;\r\n    color: var(--color1); /* Precio en color de marca */\r\n    margin-bottom: 15px;\r\n}\r\n\r\n\r\n/* --- Botones --- */\r\n.btn {\r\n    display: block;\r\n    padding: 10px 15px;\r\n    background-color: var(--color1);\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    font-weight: 600;\r\n    transition: background-color 0.2s ease, transform 0.1s ease;\r\n    margin-top: auto; /* Empuja el botón hacia abajo en la tarjeta flexible */\r\n    width: 100%;\r\n}\r\n\r\n.btn:hover {\r\n    background-color: #7a002a;\r\n    transform: translateY(-1px);\r\n}\r\n\r\n.error {\r\n    color: white;\r\n    padding: 15px;\r\n    background-color: var(--color1);\r\n    font-weight: 500;\r\n}\r\n\r\n/* --- Botón de Alternar Filtros (Móvil) --- */\r\n.toggle-filters-btn {\r\n    display: block; \r\n    padding: 12px 15px;\r\n    background-color: var(--color1);\r\n    color: white;\r\n    border: none;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    font-weight: 600;\r\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n\r\n/* --- Sidebar (Móvil/Desktop) --- */\r\n.responsive-sidebar {\r\n    width: 100%;\r\n    background-color: #ffffff;\r\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);\r\n    transition: all 0.3s ease;\r\n    padding: 20px;\r\n}\r\n\r\n\r\n/* --- Media Queries (Desktop View) --- */\r\n\r\n@media screen and (min-width: 576px){\r\n    .products-container { \r\n        display: grid;\r\n        grid-template-columns: 280px 1fr;\r\n        gap: 40px;\r\n        padding: 30px;\r\n    }\r\n    \r\n    .toggle-filters-btn {\r\n        display: none; \r\n    }\r\n\r\n    .responsive-sidebar {\r\n        position: sticky;\r\n        top: 30px; \r\n        height: fit-content;\r\n        max-height: calc(100vh - 60px); \r\n        overflow-y: auto;\r\n    }\r\n    \r\n    .title{ font-size: 2.5rem; } \r\n}\r\n\r\n@media screen and (min-width: 992px){\r\n    .product-list { grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); }\r\n}\r\n\r\n@media screen and (min-width: 1400px){\r\n   .product-list { grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); }\r\n}\r\n\r\n.header-content{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    gap: 15px;\r\n\r\n}\r\n\r\n.order-wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.order-wrapper label {\r\n    font-weight: 600;\r\n    color: var(--text-color);\r\n}\r\n\r\n.order-wrapper select {\r\n    padding: 6px 10px;\r\n    border-radius: 4px;\r\n    border: 1px solid var(--color2);\r\n    cursor: pointer;\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <aside class=\"sidebar\">\r\n        <div class=\"header-filters\">\r\n             <h2>Filtros</h2>\r\n             <button v-if=\"hasActiveFilters\" \r\n             @click=\"clearFilters\" class=\"clear-btn\">Limpiar Todo</button>\r\n        </div>\r\n\r\n        <SearchComponent\r\n            :search=\"search\"\r\n            @update-search=\"$emit('update-search', $event)\"\r\n            @submit-search=\"$emit('submit-search', $event)\"\r\n        />\r\n       \r\n        \r\n        <div v-for=\"section in sections\" :key=\"section.id\" class=\"filter-section\">\r\n            <h3 @click=\"toggleSection(section.id)\" :class=\"{ active: openSections.includes(section.id) }\">\r\n                {{ section.section_name }}\r\n                <span class=\"toggle-icon\">{{ openSections.includes(section.id) ? '−' : '+' }}</span>\r\n            </h3>\r\n            \r\n            \r\n            <div v-if=\"openSections.includes(section.id)\" class=\"items-list\">\r\n                <!-- Caso especial para Rango de Preciooo -->\r\n                <div v-if=\"section.id === 'price'\">\r\n                    <div class=\"price-range-info\">\r\n                        <span>Min: ${{ section.items?.[0]?.total }}</span>\r\n                        <span>Max: ${{ section.items?.[1]?.total }}</span>\r\n                    </div>\r\n                </div>\r\n\r\n              \r\n                <div v-else>\r\n                    <label v-for=\"item in section.items\" :key=\"item.item_name\" class=\"checkbox-label\">\r\n                        <input \r\n                            type=\"checkbox\" \r\n                            :checked=\"isFilterApplied(section.id, item.item_name)\"\r\n                            @change=\"handleFilterChange(section.id, item.item_name, $event.target.checked)\"\r\n                        />\r\n                        \r\n                        {{ typeof item.item_name === 'boolean' ? (item.item_name ? 'Sí' : 'No') : item.item_name }} \r\n                        <span class=\"item-count\">({{ item.total }})</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <!-- Sección de Ordenar por -->\r\n\r\n    </aside>\r\n</template>\r\n\r\n<script>\r\nimport SearchComponent from \"@/components/SearchComponent.vue\";\r\n\r\nexport default {\r\n    name: 'SidebarFilters',\r\n    props: {\r\n        metadata: { type: Object, default: () => ({ sections: [] }) },\r\n        activeFilters: { type: Object, default: () => ({}) },\r\n        currentOrder: { type: String, default: 'min_price' },\r\n        search: { type: String, default: '', }\r\n    },\r\n    data() {\r\n        return {\r\n            openSections: ['category', 'gender', 'price', 'order', 'authenticity', 'discount'] \r\n        };\r\n    },\r\n    components: {\r\n        SearchComponent\r\n    },\r\n    computed: {\r\n        sections() { return this.metadata?.sections.filter(s => s.items.length > 0) || []; },\r\n        hasActiveFilters(){\r\n            const filters = {...this.activeFilters};\r\n            delete filters.order; delete filters.page;\r\n            return Object.keys(filters).length > 0;\r\n        }\r\n    },\r\n    methods: {\r\n        toggleSection(id) {\r\n            const index = this.openSections.indexOf(id);\r\n            if (index > -1) { this.openSections.splice(index, 1); } else { this.openSections.push(id); }\r\n        },\r\n        isFilterApplied(key, value) {\r\n            const activeFilterValue = this.activeFilters[key];\r\n            const filterString = activeFilterValue != null ? String(activeFilterValue).toLowerCase() : null;\r\n            const valueString = value != null ? String(value).toLowerCase() : null;\r\n            return filterString === valueString;\r\n        },\r\n        handleFilterChange(key, value, isChecked) { this.$emit('filter-changed', { key, value: isChecked ? value : undefined }); },\r\n        handleOrderChange(value) { this.$emit('order-changed', value); },\r\n        clearFilters(){ this.$emit('clear-filters'); }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Definición de una variable de color principal para acentos */\r\n:root {\r\n    --primary-color: #007bff; \r\n    --background-color: #ffffff;\r\n    --border-color: #e0e0e0;\r\n}\r\n\r\n.sidebar {\r\n    width: 250px;\r\n    padding: 20px; /* Más padding para que respire */\r\n    background-color: var(--background-color);\r\n    border-right: 1px solid var(--border-color);\r\n    height: fit-content;\r\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03); \r\n}\r\n\r\n/* Header y botón de Limpiar */\r\n.header-filters {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-bottom: 15px;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid var(--border-color);\r\n}\r\n\r\nh2 {\r\n    font-size: 1.2rem; \r\n    color: var(--primary-color);\r\n}\r\n\r\n.clear-btn {\r\n    background-color: var(--color1);\r\n    color: white;\r\n    border: none;\r\n    padding: 6px 12px;\r\n    cursor: pointer;\r\n    font-size: 0.8rem;\r\n    transition: background-color 0.3s; \r\n}\r\n.clear-btn:hover {\r\n    background-color: #7a002a;\r\n}\r\n\r\n/* Secciones de Filtros */\r\n.filter-section {\r\n    border-bottom: 1px solid var(--border-color);\r\n    padding: 15px 0;\r\n}\r\n\r\n.filter-section h3 {\r\n    cursor: pointer;\r\n    margin: 0;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 5px 0;\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n    transition: color 0.3s;\r\n}\r\n.filter-section h3:hover {\r\n    color: var(--primary-color);\r\n}\r\n.filter-section h3.active {\r\n    color: var(--primary-color);\r\n}\r\n\r\n.toggle-icon {\r\n    font-size: 1.2rem;\r\n    line-height: 1;\r\n}\r\n\r\n.items-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding-top: 10px;\r\n}\r\n\r\n.checkbox-label {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 8px;\r\n    cursor: pointer;\r\n    gap: 8px;\r\n    font-size: 0.9rem;\r\n    color: var(--text-color);\r\n}\r\n.checkbox-label:hover {\r\n    color: var(--primary-color);\r\n}\r\n.checkbox-label input[type=\"checkbox\"] {\r\n    cursor: pointer;\r\n    accent-color: var(--primary-color); \r\n}\r\n\r\n.item-count {\r\n    color: #888;\r\n    margin-left: auto; \r\n    font-size: 0.8rem;\r\n}\r\n\r\n/* Sección de Ordenar por */\r\n.order-section {\r\n    padding-bottom: 0;\r\n}\r\n\r\n.order-select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border-radius: 4px;\r\n    border: 1px solid var(--border-color);\r\n    margin-top: 5px;\r\n    font-size: 0.9rem;\r\n    cursor: pointer;\r\n    background-color: var(--background-color);\r\n}\r\n\r\n.price-range-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 0.9rem;\r\n    padding: 5px 0;\r\n    color: var(--text-color);\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <div class=\"search-container\">\r\n        <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar...\"\r\n            class=\"search-input\"\r\n            :value=\"search\"\r\n            @input=\"$emit('update-search', $event.target.value?.trim())\"\r\n            @keyup.enter=\"$emit('submit-search')\"\r\n        />\r\n        <div class=\"search-button\" @click=\"$emit('submit-search')\">\r\n            <i class=\"bi bi-search search-ico\"></i>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n    .search-container {\r\n        max-width: 100%;\r\n        background-color: #FFF;\r\n        padding: .5rem;\r\n        display: flex;\r\n        justify-content: space-between;\r\n    }\r\n\r\n    .search-input {\r\n        outline: none;\r\n        border: none;\r\n        padding-right: .5rem;\r\n        font-size: inherit;\r\n        color: inherit;\r\n        font-family: inherit;\r\n        flex-grow: 1;\r\n        flex-shrink: 0;\r\n        max-width: calc(100% - 1.5rem);\r\n    }\r\n\r\n    .search-button {\r\n        position: relative;\r\n        cursor: pointer;\r\n        display: flex;\r\n        flex-grow: 0;\r\n        flex-shrink: 0;\r\n        justify-content: center;\r\n        padding-left: .5rem;\r\n    }\r\n\r\n    .search-button::before {\r\n        content: \"\";\r\n        position: absolute;\r\n        background-color: #A9A9A9;\r\n        left: 0;\r\n        width: 1px;\r\n        height: 100%;\r\n    }\r\n\r\n    .search-ico {\r\n        color: #A9A9A9;\r\n    }\r\n</style>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SearchComponent\",\r\n        props: {\r\n            search: {\r\n                type: String,\r\n                default: \"\",\r\n            }\r\n        }\r\n    }\r\n</script>","import { render } from \"./SearchComponent.vue?vue&type=template&id=7617218f&scoped=true\"\nimport script from \"./SearchComponent.vue?vue&type=script&lang=js\"\nexport * from \"./SearchComponent.vue?vue&type=script&lang=js\"\n\nimport \"./SearchComponent.vue?vue&type=style&index=0&id=7617218f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7617218f\"]])\n\nexport default __exports__","import { render } from \"./SidebarFilters.vue?vue&type=template&id=73337254&scoped=true\"\nimport script from \"./SidebarFilters.vue?vue&type=script&lang=js\"\nexport * from \"./SidebarFilters.vue?vue&type=script&lang=js\"\n\nimport \"./SidebarFilters.vue?vue&type=style&index=0&id=73337254&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-73337254\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"paginator-nav\" v-if=\"totalPages > 1\">\r\n        \r\n        <!-- Botón Anterior -->\r\n        <button\r\n            @click=\"changePage(previousPage)\"\r\n            :disabled=\"!previousPage\"\r\n            class=\"nav-button\"\r\n        >\r\n            Anterior\r\n        </button>\r\n\r\n        <!-- Información de la página actual -->\r\n        <span class=\"page-info\">\r\n            Página {{ currentPage }} de {{ totalPages }}\r\n        </span>\r\n\r\n        <!-- Botón Siguiente -->\r\n        <button\r\n            @click=\"changePage(nextPage)\"\r\n            :disabled=\"!nextPage\"\r\n            class=\"nav-button\"\r\n        >\r\n            Siguiente\r\n        </button>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'ProductPaginator',\r\n    props: {\r\n        currentPage: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        totalPages: {\r\n            type: Number,\r\n            required: true\r\n        },\r\n        previousPage: {\r\n            type: Number,\r\n            default: null\r\n        },\r\n        nextPage: {\r\n            type: Number,\r\n            default: null\r\n        }\r\n    },\r\n    methods: {\r\n        changePage(page) {\r\n            if (page) {\r\n                // Emitimos un evento al padre con el nuevo número de página\r\n                this.$emit('page-changed', page);\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.paginator-nav {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 20px;\r\n    padding: 10px 0;\r\n    gap: 10px;\r\n}\r\n\r\n.nav-button {\r\n    text-decoration: none;\r\n    text-transform: uppercase;\r\n    color: white;\r\n    cursor: pointer;\r\n    border: none;\r\n    padding: 0.5rem 1rem;\r\n    box-shadow: 1px 1px 0px 0px 2px 2px 0px 0px 3px 3px 0px 0px 4px 4px 0px 0px 5px 5px 0px 0px;\r\n    position: relative;\r\n    user-select: none;\r\n    -webkit-user-select: none;\r\n    touch-action: manipulation;\r\n    background-color: var(--color1);\r\n    transition: background-color 0.3s;\r\n}\r\n\r\n.nav-button:disabled {\r\n    background-color: #cccccc;\r\n    cursor: not-allowed;\r\n}\r\n\r\n.nav-button:hover:enabled {\r\n    background-color: #7a002a;\r\n}\r\n\r\n.page-info {\r\n    color: var(--text-color-base);\r\n    min-width: 120px;\r\n    text-align: center;\r\n}\r\n</style>\r\n","import { render } from \"./ProductPaginator.vue?vue&type=template&id=24f0a7ee&scoped=true\"\nimport script from \"./ProductPaginator.vue?vue&type=script&lang=js\"\nexport * from \"./ProductPaginator.vue?vue&type=script&lang=js\"\n\nimport \"./ProductPaginator.vue?vue&type=style&index=0&id=24f0a7ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24f0a7ee\"]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=714f5752&scoped=true\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport \"./ProductsView.vue?vue&type=style&index=0&id=714f5752&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-714f5752\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_normalizeClass","$data","showSidebar","_createElementVNode","onClick","_cache","args","$options","toggleSidebar","_createVNode","_component_SidebarFilters","metadata","activeFilters","_ctx","$route","query","currentOrder","search","onUpdateSearch","updateSearch","onSubmitSearch","submitSearch","onFilterChanged","handleSidebarFilterChange","onOrderChanged","updateOrder","onClearFilters","handleClearFilters","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","total_products","_hoisted_4","value","onChange","$event","target","loading","_hoisted_6","error","_hoisted_7","_hoisted_8","_Fragment","_renderList","products","product","key","id","_hoisted_9","src","url","alt","_hoisted_11","_hoisted_12","name","_hoisted_13","price","$router","push","_hoisted_14","total_pages","_createBlock","_component_ProductPaginator","currentPage","current_page","totalPages","previousPage","previous_page","nextPage","next_page","onPageChanged","updatePage","hasActiveFilters","clearFilters","_component_SearchComponent","$props","$emit","sections","section","toggleSection","active","openSections","includes","section_name","_hoisted_5","items","total","item","item_name","type","checked","isFilterApplied","handleFilterChange","_hoisted_10","placeholder","onInput","trim","onKeyup","_withKeys","props","String","default","__exports__","Object","data","components","SearchComponent","computed","this","filter","s","length","filters","order","page","keys","methods","index","indexOf","splice","activeFilterValue","filterString","toLowerCase","valueString","isChecked","undefined","handleOrderChange","changePage","disabled","Number","required","SidebarFilters","ProductPaginator","fetchData","params","body","response","getAll","console","newSearch","newOrder","updateRouteQuery","newPage","newQueryParams","catch","err","mounted","window","matchMedia","matches","addEventListener","event","watch","handler","deep","render"],"ignoreList":[],"sourceRoot":""}